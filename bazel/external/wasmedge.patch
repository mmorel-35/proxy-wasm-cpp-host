--- WasmEdge-0.16.1/cmake/Helper.cmake.orig	2026-01-15 07:08:28.026114144 +0000
+++ WasmEdge-0.16.1/cmake/Helper.cmake	2026-01-15 07:32:12.583631935 +0000
@@ -365,6 +365,26 @@
   if(TARGET spdlog::spdlog)
     return()
   endif()
+  # Check if building under Bazel with external dependencies
+  if(DEFINED ENV{EXT_BUILD_DEPS})
+    # When using Bazel's rules_foreign_cc with deps, fmt and spdlog are provided
+    # Create interface targets that point to the libraries provided by Bazel
+    if(NOT TARGET fmt)
+      add_library(fmt INTERFACE IMPORTED GLOBAL)
+      set_target_properties(fmt PROPERTIES
+        INTERFACE_INCLUDE_DIRECTORIES "$ENV{EXT_BUILD_DEPS}/include"
+      )
+    endif()
+    if(NOT TARGET spdlog::spdlog)
+      add_library(spdlog::spdlog INTERFACE IMPORTED GLOBAL)
+      set_target_properties(spdlog::spdlog PROPERTIES
+        INTERFACE_INCLUDE_DIRECTORIES "$ENV{EXT_BUILD_DEPS}/include"
+        INTERFACE_LINK_LIBRARIES fmt
+      )
+    endif()
+    message(STATUS "Using fmt and spdlog from Bazel dependencies")
+    return()
+  endif()
   # setup spdlog
   find_package(spdlog QUIET)
   if(spdlog_FOUND)
